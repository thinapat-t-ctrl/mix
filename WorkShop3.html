<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <title>Workshop 3</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 p-10">

<div class="max-w-2xl mx-auto bg-white p-6 rounded shadow">
    <h1 class="text-2xl font-bold mb-4">üõí ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤</h1>
    <div id="display-area" class="space-y-2"></div>
    <button onclick="runApp()" class="mt-4 bg-blue-600 text-white px-4 py-2 rounded">
        Run App
    </button>
</div>

<script>
const productsDB = [
    { id: 1, name: "Mechanical Keyboard", price: 3500, category: "IT", type: "Import", discount: 10 },
    { id: 2, name: "Air Fryer", price: 2755, category: "Kitchen", type: "Import", discount: 0 },
    { id: 3, name: "Chef Knife", price: 1500, category: "Kitchen", type: "Thailand", discount: 10 },
    { id: 4, name: "Bed Lamp", price: 450, category: "Bedroom", type: "Thailand", discount: 5 },
    { id: 5, name: "Non-stick Pan", price: 1800, category: "Kitchen", type: "Import", discount: 10 },
    { id: 6, name: "Duvet Cover", price: 2200, category: "Bedroom", type: "Thailand", discount: 5 },
    { id: 7, name: "Digital Camera", price: 19900, category: "IT", type: "Import", discount: 5 }
];

const runApp = () => {
    console.clear();
    console.log("üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤");

    // 1. ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≥‡∏•‡∏≠‡∏á
    const keyword = "";
    console.log("üîç ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô:", `"${keyword}"`);

    // 2. ‡πÅ‡∏™‡∏î‡∏á‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    console.log("üì¶ ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:", productsDB.length, "‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£");

    // 3. ‡πÅ‡∏™‡∏î‡∏á Array
    console.log("üìö Array ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤");
    console.log(productsDB);

    // 4. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏£‡∏≤‡∏Ñ‡∏≤‡∏´‡∏•‡∏±‡∏á‡∏´‡∏±‡∏Å‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î
    const getDiscountPrice = (price, discount) => {
        return price - (price * discount / 100);
    };

    // 5. ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ + log ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤
    const html = productsDB.map(p => {
        const finalPrice = getDiscountPrice(p.price, p.discount);

        if (p.discount > 0) {
            console.log(
                `üè∑Ô∏è ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏î‡∏£‡∏≤‡∏Ñ‡∏≤: ${p.name} (‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡∏ø${finalPrice})`
            );
        }

        return `
            <div class="flex justify-between border p-2 rounded bg-cyan-50">
                <div>
                    <div class="font-bold">${p.name}</div>
                    <div class="text-sm text-gray-500">
                        ${p.category} | ${p.type} | Discount ${p.discount}%
                    </div>
                </div>
                <div class="font-mono text-green-600">
                    ‡∏ø${finalPrice.toLocaleString()}
                </div>
            </div>
        `;
    });

    document.getElementById("display-area").innerHTML = html.join("");
};

runApp();
</script>

</body>
</html>
